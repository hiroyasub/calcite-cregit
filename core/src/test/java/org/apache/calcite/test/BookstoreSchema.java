begin_unit|revision:1.0.0;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * Licensed to the Apache Software Foundation (ASF) under one or more  * contributor license agreements.  See the NOTICE file distributed with  * this work for additional information regarding copyright ownership.  * The ASF licenses this file to you under the Apache License, Version 2.0  * (the "License"); you may not use this file except in compliance with  * the License.  You may obtain a copy of the License at  *  * http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
package|package
name|org
operator|.
name|apache
operator|.
name|calcite
operator|.
name|test
package|;
end_package

begin_import
import|import
name|java
operator|.
name|math
operator|.
name|BigDecimal
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Arrays
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Collections
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_comment
comment|/**  * A Schema representing a bookstore.  *  * It contains a single table with various levels/types of nesting, and is used mainly for testing  * parts of code that rely on nested structures.  *  * New authors can be added but attention should be made to update appropriately tests that might  * fail.  *  * The Schema is meant to be used with {@link org.apache.calcite.adapter.java.ReflectiveSchema} thus  * all fields, and methods, should be public.  */
end_comment

begin_class
specifier|public
specifier|final
class|class
name|BookstoreSchema
block|{
specifier|public
specifier|final
name|Author
index|[]
name|authors
init|=
block|{
operator|new
name|Author
argument_list|(
literal|1
argument_list|,
literal|"Victor Hugo"
argument_list|,
operator|new
name|Place
argument_list|(
operator|new
name|Coordinate
argument_list|(
name|BigDecimal
operator|.
name|valueOf
argument_list|(
literal|47.24
argument_list|)
argument_list|,
name|BigDecimal
operator|.
name|valueOf
argument_list|(
literal|6.02
argument_list|)
argument_list|)
argument_list|,
literal|"BesanÃ§on"
argument_list|,
literal|"France"
argument_list|)
argument_list|,
name|Collections
operator|.
name|singletonList
argument_list|(
operator|new
name|Book
argument_list|(
literal|"Les MisÃ©rables"
argument_list|,
literal|1862
argument_list|,
name|Collections
operator|.
name|singletonList
argument_list|(
operator|new
name|Page
argument_list|(
literal|1
argument_list|,
literal|"Contents"
argument_list|)
argument_list|)
argument_list|)
argument_list|)
argument_list|)
block|,
operator|new
name|Author
argument_list|(
literal|2
argument_list|,
literal|"Nikos Kazantzakis"
argument_list|,
operator|new
name|Place
argument_list|(
operator|new
name|Coordinate
argument_list|(
name|BigDecimal
operator|.
name|valueOf
argument_list|(
literal|35.3387
argument_list|)
argument_list|,
name|BigDecimal
operator|.
name|valueOf
argument_list|(
literal|25.1442
argument_list|)
argument_list|)
argument_list|,
literal|"Heraklion"
argument_list|,
literal|"Greece"
argument_list|)
argument_list|,
name|Arrays
operator|.
name|asList
argument_list|(
operator|new
name|Book
argument_list|(
literal|"Zorba the Greek"
argument_list|,
literal|1946
argument_list|,
name|Arrays
operator|.
name|asList
argument_list|(
operator|new
name|Page
argument_list|(
literal|1
argument_list|,
literal|"Contents"
argument_list|)
argument_list|,
operator|new
name|Page
argument_list|(
literal|2
argument_list|,
literal|"Acknowledgements"
argument_list|)
argument_list|)
argument_list|)
argument_list|,
operator|new
name|Book
argument_list|(
literal|"The Last Temptation of Christ"
argument_list|,
literal|1955
argument_list|,
name|Collections
operator|.
name|singletonList
argument_list|(
operator|new
name|Page
argument_list|(
literal|1
argument_list|,
literal|"Contents"
argument_list|)
argument_list|)
argument_list|)
argument_list|)
argument_list|)
block|,
operator|new
name|Author
argument_list|(
literal|3
argument_list|,
literal|"Homer"
argument_list|,
operator|new
name|Place
argument_list|(
literal|null
argument_list|,
literal|"Ionia"
argument_list|,
literal|"Greece"
argument_list|)
argument_list|,
name|Collections
operator|.
name|emptyList
argument_list|()
argument_list|)
block|}
decl_stmt|;
comment|/**    */
specifier|public
specifier|static
class|class
name|Author
block|{
specifier|public
specifier|final
name|int
name|aid
decl_stmt|;
specifier|public
specifier|final
name|String
name|name
decl_stmt|;
specifier|public
specifier|final
name|Place
name|birthPlace
decl_stmt|;
annotation|@
name|org
operator|.
name|apache
operator|.
name|calcite
operator|.
name|adapter
operator|.
name|java
operator|.
name|Array
argument_list|(
name|component
operator|=
name|Book
operator|.
name|class
argument_list|)
specifier|public
specifier|final
name|List
argument_list|<
name|Book
argument_list|>
name|books
decl_stmt|;
specifier|public
name|Author
parameter_list|(
name|int
name|aid
parameter_list|,
name|String
name|name
parameter_list|,
name|Place
name|birthPlace
parameter_list|,
name|List
argument_list|<
name|Book
argument_list|>
name|books
parameter_list|)
block|{
name|this
operator|.
name|aid
operator|=
name|aid
expr_stmt|;
name|this
operator|.
name|name
operator|=
name|name
expr_stmt|;
name|this
operator|.
name|birthPlace
operator|=
name|birthPlace
expr_stmt|;
name|this
operator|.
name|books
operator|=
name|books
expr_stmt|;
block|}
block|}
comment|/**    */
specifier|public
specifier|static
class|class
name|Place
block|{
specifier|public
specifier|final
name|Coordinate
name|coords
decl_stmt|;
specifier|public
specifier|final
name|String
name|city
decl_stmt|;
specifier|public
specifier|final
name|String
name|country
decl_stmt|;
specifier|public
name|Place
parameter_list|(
name|Coordinate
name|coords
parameter_list|,
name|String
name|city
parameter_list|,
name|String
name|country
parameter_list|)
block|{
name|this
operator|.
name|coords
operator|=
name|coords
expr_stmt|;
name|this
operator|.
name|city
operator|=
name|city
expr_stmt|;
name|this
operator|.
name|country
operator|=
name|country
expr_stmt|;
block|}
block|}
comment|/**    */
specifier|public
specifier|static
class|class
name|Coordinate
block|{
specifier|public
specifier|final
name|BigDecimal
name|latitude
decl_stmt|;
specifier|public
specifier|final
name|BigDecimal
name|longtitude
decl_stmt|;
specifier|public
name|Coordinate
parameter_list|(
name|BigDecimal
name|latitude
parameter_list|,
name|BigDecimal
name|longtitude
parameter_list|)
block|{
name|this
operator|.
name|latitude
operator|=
name|latitude
expr_stmt|;
name|this
operator|.
name|longtitude
operator|=
name|longtitude
expr_stmt|;
block|}
block|}
comment|/**    */
specifier|public
specifier|static
class|class
name|Book
block|{
specifier|public
specifier|final
name|String
name|title
decl_stmt|;
specifier|public
specifier|final
name|int
name|publishYear
decl_stmt|;
annotation|@
name|org
operator|.
name|apache
operator|.
name|calcite
operator|.
name|adapter
operator|.
name|java
operator|.
name|Array
argument_list|(
name|component
operator|=
name|Page
operator|.
name|class
argument_list|)
specifier|public
specifier|final
name|List
argument_list|<
name|Page
argument_list|>
name|pages
decl_stmt|;
specifier|public
name|Book
parameter_list|(
name|String
name|title
parameter_list|,
name|int
name|publishYear
parameter_list|,
name|List
argument_list|<
name|Page
argument_list|>
name|pages
parameter_list|)
block|{
name|this
operator|.
name|title
operator|=
name|title
expr_stmt|;
name|this
operator|.
name|publishYear
operator|=
name|publishYear
expr_stmt|;
name|this
operator|.
name|pages
operator|=
name|pages
expr_stmt|;
block|}
block|}
comment|/**    */
specifier|public
specifier|static
class|class
name|Page
block|{
specifier|public
specifier|final
name|int
name|pageNo
decl_stmt|;
specifier|public
specifier|final
name|String
name|contentType
decl_stmt|;
specifier|public
name|Page
parameter_list|(
name|int
name|pageNo
parameter_list|,
name|String
name|contentType
parameter_list|)
block|{
name|this
operator|.
name|pageNo
operator|=
name|pageNo
expr_stmt|;
name|this
operator|.
name|contentType
operator|=
name|contentType
expr_stmt|;
block|}
block|}
block|}
end_class

begin_comment
comment|// End BookstoreSchema.java
end_comment

end_unit

